buildscript {
    ext.kotlin_version = '1.3.21'
    ext.arrow_version = '0.9.0'
    ext.JUnitPlatformVersion = "1.4.0"
    ext.dokkaVersion = '0.9.18'

    ext.isTravis = System.getenv("TRAVIS") == "true"
    ext.travisBuildNumber = System.getenv("TRAVIS_BUILD_NUMBER")
    ext.isReleaseVersion = !isTravis

    repositories {
        mavenCentral()
    }
    
    dependencies {
        classpath "org.jetbrains.dokka:dokka-gradle-plugin:$dokkaVersion"
    }
}

plugins {
    id 'java'
    id 'java-library'
    id 'maven-publish'
    id 'org.jetbrains.kotlin.multiplatform' version '1.3.31' apply false
    id 'signing'
}

allprojects {

    repositories {
        mavenCentral()
    }

    sourceCompatibility = 1.6
    targetCompatibility = 1.6

    group = "io.kotlintest"

    if (isTravis) {
        version "4.0." + travisBuildNumber + "-SNAPSHOT"
    } else {
        version "4.0.0.LOCAL"
    }
}

project(":") {
    publish.enabled = false
}